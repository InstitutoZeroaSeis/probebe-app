<ion-view title="Profile">

  <ion-side-menus enable-menu-with-back-views="false">
    <ion-nav-bar class="bar-light">

      <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
        </button>
      </ion-nav-buttons>
    </ion-nav-bar>

    <ion-side-menu-content>
      <ion-content class="has-header padding messages-list" overflow-scroll="true">

      <div class="row">
        <div class="col">
          Adicione filhos, edite telefone, e-mail e dados pessoais aqui
        </div>
     </div>

      <form name="profileForm" ng-submit="save(profileForm)" accept-charset="utf-8">
        <ion-list>
          <h4>Informações Pessoais</h4>

          <label class="item item-input" >
            <span class="input-label">Nome</span>
            <input type="text" name="userName" ng-model="profile.name" readonly>
          </label>

          <label class="item item-input">
            <span class="input-label">Sexo</span>

              <label class="item item-radio">
                <input type="radio" name="gender" ng-model="profile.gender" value="female">
                <div class="item-content">F</div>
                <i class="radio-icon ion-checkmark"></i>
              </label>

              <label class="item item-radio">
                <input type="radio" name="gender" ng-model="profile.gender" value="male">
                <div class="item-content">M</div>
                <i class="radio-icon ion-checkmark"></i>
              </label>
          </label>
        </ion-list>
        <!-- SONS NESTED FORM -->
        <div class="list">

          <div class="item item-divider">
            Cadastro de Filhos
          </div>

          <div ng-repeat="son in profile.sons">
            <h5>
              {{$index+1}}° Filho
            </h5>

            <label class="item item-input" >
              <span class="input-label">Nome</span>
              <input type="text" name="userName" ng-model="profile.sons[$index].name">
            </label>

            <label class="item item-input" >
              <span class="input-label">Data de nasc.</span>
              <input type="date" name="sonBornDate" ng-model="profile.sons[$index].bornDate">
            </label>

            <label class="item item-input">
              <span class="input-label">Sexo</span>

                <label class="item item-radio">
                  <input type="radio" name="female{{$index}}" value="female" ng-model="profile.sons[$index].gender">
                  <div class="item-content">F</div>
                  <i class="radio-icon ion-checkmark"></i>
                </label>

                <label class="item item-radio">
                  <input type="radio" name="male{{$index}}" value="male" ng-model="profile.sons[$index].gender">
                  <div class="item-content">M</div>
                  <i class="radio-icon ion-checkmark"></i>
                </label>
            </label>
          </div>
          <input class="button button-block button-positive" ng-click="addSon()"value="Adicionar outro filho" />
        </div>
        <!-- END SOND NESTED FORM -->

        <!-- CELLPHONE INFORMATION -->
        <h4>Telefones</h4>
        <p>
          Cadastre seu número de celular para receber informações personalizadas sobre os cuidados básicos do bebê.
        </p>
        <div class="list">
          <label class="item item-input" >
            <span class="input-label">Celular</span>
            <input type="text" ng-blur="validadeCellNumber()" name="userName" ng-model="profile.cellPhone">
          </label>

        </div>
        <!-- END CELLPHONE INFORMATION -->
        <input type="submit" class="button button-block button-positive" value="Atualizar perfil" />
      </form>

      </ion-content>
    </ion-side-menu-content>

    <ion-side-menu side="left">
      <ion-content class='has-header' scroll='false'>
        <ion-list>
          <ion-item nav-clear ng-class="{active: selectedChild == child}" menu-close ng-click="selectChild(child)" ng-repeat="child in children">
            <child-name child="child"></child-name>
          </ion-item>
        </ion-list>
        <ion-list ng-controller="AuthCtrl">
          <ion-item nav-clear ng-click="signOut()">
            <i class="ion-close-circled"></i>
            Sair
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-side-menu>

  </ion-side-menus>
</ion-view>
